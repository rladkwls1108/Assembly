# Short Answer

## 1. Which Direction flag setting causes index registers to move backward through memory when executing string primitives?

**답:** Direction Flag가 **1로 설정(Set)**되면 인덱스 레지스터가 메모리를 역방향(감소)으로 이동합니다. `STD` 명령어로 설정할 수 있습니다.

---

## 2. When a repeat prefix is used with STOSW, what value is added to or subtracted from the index register?

**답:** **2**가 더해지거나 빼집니다. STOSW는 워드(2바이트) 단위로 동작하므로, Direction Flag가 0이면 +2, 1이면 -2가 적용됩니다.

---

## 3. In what way is the CMPS instruction ambiguous?

**답:** CMPS 명령어는 **피연산자의 크기가 명확하지 않습니다**. CMPSB(바이트), CMPSW(워드), CMPSD(더블워드) 중 어떤 크기로 비교할지 명시적으로 지정해야 합니다. 단순히 CMPS만 사용하면 어셈블러가 비교할 데이터의 크기를 알 수 없습니다.

---

## 4. When the Direction flag is clear and SCASB has found a matching character, where does EDI point?

**답:** EDI는 **일치하는 문자의 다음 바이트 위치**를 가리킵니다. SCASB는 비교 후 자동으로 EDI를 증가시키기 때문입니다. 따라서 일치한 문자의 실제 위치는 `EDI - 1`입니다.

---

## 5. When scanning an array for the first occurrence of a particular character, which repeat prefix would be best?

**답:** **REPNE (REPNZ)** 접두사가 가장 적합합니다. 이 접두사는 "같지 않은 동안 반복"하므로, 일치하는 문자를 찾으면 즉시 반복을 중단합니다.

---

## 6. What Direction flag setting is used in the Str_trim procedure from Section 9.3?

**답:** Direction Flag가 **1로 설정(Set)**됩니다. 문자열의 끝에서부터 역방향으로 스캔하여 공백 문자를 제거해야 하기 때문입니다.

---

## 7. Why does the Str_trim procedure from Section 9.3 use the JNE instruction?

**답:** JNE는 **공백이 아닌 문자를 찾았을 때** 반복을 중단하고 분기하기 위해 사용됩니다. REPE SCASB로 공백 문자를 스캔하다가 공백이 아닌 문자를 만나면 Zero Flag가 0이 되어 JNE로 분기합니다.

---

## 8. What happens in the Str_ucase procedure from Section 9.3 if the target string contains a digit?

**답:** **숫자는 변경되지 않고 그대로 유지됩니다**. Str_ucase 프로시저는 소문자('a'-'z')만 대문자로 변환하며, 숫자나 다른 문자는 영향을 받지 않습니다.

---

## 9. If the Str_length procedure from Section 9.3 used SCASB, which repeat prefix would be most appropriate?

**답:** **REPNE (REPNZ)** 접두사가 가장 적합합니다. 널 종료 문자(0)를 찾을 때까지 스캔해야 하므로, "같지 않은 동안 반복"하는 REPNE를 사용합니다.

---

## 10. If the Str_length procedure from Section 9.3 used SCASB, how would it calculate and return the string length?

**답:** 
1. AL에 0(널 문자)을 저장
2. ECX에 최대 검색 길이 설정
3. REPNE SCASB 실행
4. 문자열 길이 = **원래 ECX 값 - 현재 ECX 값 - 1**

또는 EDI의 변화량을 이용하여 `(최종 EDI - 시작 EDI - 1)`로 계산할 수 있습니다.

---

## 11. What is the maximum number of comparisons needed by the binary search algorithm when an array contains 1,024 elements?

**답:** **최대 11번**의 비교가 필요합니다. 이진 검색의 최대 비교 횟수는 `⌈log₂(n)⌉ + 1`이며, log₂(1024) = 10이므로 10 + 1 = 11번입니다.

---

## 12. In the FillArray procedure from the Binary Search example in Section 9.5, why must the Direction flag be cleared by the CLD instruction?

**답:** STOSD 명령어가 **정방향으로 배열을 채우도록** 하기 위해서입니다. CLD로 Direction Flag를 0으로 설정하면 EDI가 자동으로 증가하여 배열의 낮은 주소에서 높은 주소 방향으로 데이터를 저장합니다.

---

## 13. In the BinarySearch procedure from Section 9.5, why could the statement at label L2 be removed without affecting the outcome?

**답:** L2의 문장은 **중복되거나 이미 이전 코드에서 처리된 조건**이기 때문입니다. 프로그램의 논리 흐름상 해당 지점에 도달했을 때 이미 필요한 조건이 충족되어 있어 제거해도 결과에 영향이 없습니다.

---

## 14. In the BinarySearch procedure from Section 9.5, how might the statement at label L4 be eliminated?

**답:** **조건 분기 구조를 재구성**하여 L4로의 점프를 제거할 수 있습니다. 예를 들어:
- 반복문의 조건 검사 순서를 변경
- 단일 출구점(single exit point)으로 코드를 리팩토링
- JMP 대신 조건부 점프를 적절히 활용하여 fall-through 방식으로 구현

